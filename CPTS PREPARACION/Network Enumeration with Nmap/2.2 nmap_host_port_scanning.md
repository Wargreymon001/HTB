# ðŸ§  Nmap: Host & Port Scanning

## âœ… Objetivos clave
- Identificar puertos abiertos y servicios asociados
- Detectar versiones de servicios
- Inferir el sistema operativo
- Analizar comportamiento de firewall/IDS

## ðŸ”Ž Estados posibles de puertos
- `open`: ConexiÃ³n establecida
- `closed`: Respuesta TCP RST
- `filtered`: Sin respuesta o error ICMP
- `unfiltered`: Accesible pero estado desconocido (TCP ACK scan)
- `open|filtered`: No se puede distinguir entre abierto o filtrado
- `closed|filtered`: Estado indeterminado (Idle scan)

## ðŸ”§ Escaneos TCP
```bash
# Top 10 puertos TCP
sudo nmap 10.129.2.28 --top-ports=10

# Escaneo SYN (sigiloso)
sudo nmap -sS -p 21 -Pn -n --disable-arp-ping --packet-trace 10.129.2.28

# Escaneo TCP Connect (completo)
sudo nmap -sT -p 443 -Pn -n --disable-arp-ping --packet-trace --reason 10.129.2.28
```

## ðŸ”¥ DetecciÃ³n de puertos filtrados
```bash
# Filtrado por firewall sin respuesta (puerto 139)
sudo nmap -p 139 -Pn -n --disable-arp-ping --packet-trace 10.129.2.28

# Puerto rechazado explÃ­citamente (ICMP type=3/code=3, puerto 445)
sudo nmap -p 445 -Pn -n --disable-arp-ping --packet-trace 10.129.2.28
```

## ðŸ§ª Escaneo UDP
```bash
# Escaneo rÃ¡pido de puertos UDP mÃ¡s comunes
sudo nmap -F -sU 10.129.2.28

# Escaneo de un puerto UDP con trazado
sudo nmap -sU -p 137 -Pn -n --disable-arp-ping --packet-trace --reason 10.129.2.28
```
- `open|filtered`: No hay respuesta â†’ puede estar abierto o filtrado
- `closed`: Se recibe ICMP "port unreachable"

## ðŸ“¦ Escaneo de versiones
```bash
sudo nmap -sV -p 445 -Pn -n --disable-arp-ping --packet-trace --reason 10.129.2.28
```
- Descubre nombre, versiÃ³n del servicio, e incluso informaciÃ³n del sistema (como `Samba` en `Ubuntu`)

## ðŸ“š MÃ¡s informaciÃ³n
- [Port Scanning Techniques - nmap.org](https://nmap.org/book/man-port-scanning-techniques.html)
