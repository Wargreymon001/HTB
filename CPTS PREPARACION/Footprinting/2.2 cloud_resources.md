# üåê Cloud Resources

## 1. Concepto general
- Las empresas usan servicios en la nube como **AWS, Azure y GCP** para centralizar su gesti√≥n y facilitar acceso remoto.
- Aunque la infraestructura es segura a nivel del proveedor, las **configuraciones incorrectas** hechas por los administradores son el principal riesgo.
- Errores t√≠picos:
  - **S3 buckets** (AWS) p√∫blicos sin restricciones.
  - **Azure blobs** accesibles sin autenticaci√≥n.
  - **GCP cloud storage** expuesto.

---

## 2. Identificaci√≥n de servidores de la empresa
- Se enumeraron subdominios de `inlanefreight.com` ‚Üí muchos apuntaban a IPs internas, pero uno de ellos (`s3-website-us-west-2.amazonaws.com`) estaba en **Amazon S3**.  
üëâ Esto ya revela uso de servicios cloud.

Ejemplo del procedimiento:
```bash
for i in $(cat subdomainList); do
    host $i | grep "has address"
done
```
- Salida t√≠pica:
  - `blog.inlanefreight.com ‚Üí 10.129.24.93`
  - `inlanefreight.com ‚Üí 10.129.27.33`
  - `s3-website-us-west-2.amazonaws.com ‚Üí 10.129.95.250`

---

## 3. Uso de Google Dorks para recursos cloud
- B√∫squedas avanzadas en Google permiten localizar recursos en la nube:
  - **AWS**:  
    ```
    inurl:amazonaws.com intext:<nombre_empresa>
    ```
  - **Azure**:  
    ```
    inurl:blob.core.windows.net intext:<nombre_empresa>
    ```
- Resultados comunes:  
  - PDFs internos.  
  - Documentos de configuraci√≥n.  
  - C√≥digo fuente.  
  - Archivos sensibles vinculados a la empresa.

---

## 4. C√≥digo fuente del sitio web
- El **HTML del sitio** puede contener referencias a recursos cloud (ej: `blob.core.windows.net`).
- Estas rutas muestran directamente el uso de almacenamiento externo de la empresa.
- Permite identificar nuevos objetivos en la nube **sin necesidad de brute force**.

---

## 5. Herramientas externas de an√°lisis
- **Domain.glass**:  
  - Ofrece info de seguridad, DNS, SSL y cabeceras HTTP.  
  - Tambi√©n muestra si la empresa usa **protecci√≥n de Cloudflare**.  
  - Permite verificar certificados SSL ‚Üí pueden contener subdominios ocultos.
- **GrayHatWarfare**:  
  - Buscador de **buckets en AWS, Azure y GCP**.  
  - Se pueden listar archivos por bucket y filtrar por tipo (`.pdf`, `.docx`, etc.).  
  - Ideal para detectar **buckets mal configurados**.

---

## 6. Ejemplo con GrayHatWarfare
- Se hallaron **3 buckets en AWS S3** de la empresa.
- Uno conten√≠a **73 archivos accesibles p√∫blicamente**.
- Lo m√°s cr√≠tico:  
  - Se encontraron **claves SSH privadas y p√∫blicas** (`id_rsa` y `id_rsa.pub`).  
  - Riesgo ‚Üí acceso directo a servidores sin necesidad de contrase√±a.

---

## 7. Conclusiones clave
- El mal uso de servicios en la nube expone:
  - **Archivos internos** (documentos, PDFs).  
  - **Configuraciones sensibles**.  
  - **Credenciales (SSH keys)** que comprometen sistemas enteros.  
- Herramientas que debes dominar:
  - `host` + listas de subdominios.  
  - **Google Dorks** ‚Üí localizar archivos p√∫blicos.  
  - **Domain.glass** ‚Üí analizar infraestructura y certificados.  
  - **GrayHatWarfare** ‚Üí buscar buckets y contenido p√∫blico.  
